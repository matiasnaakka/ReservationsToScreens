import{r as l,j as f,I as R}from"./vendor-CR1cO_yZ.js";import{i as b}from"./index-i_ZBraiT.js";const x="/Reservationstatus/assets/7thfloormap-H222xB9C.svg",A="/Reservationstatus/assets/6thfloormap-Ch8AC-gk.svg",G="/Reservationstatus/assets/5thfloormap-DbGH7g9h.svg",j=({rooms:u,selectedFloor:c,reservableFilter:r})=>{const o=l.useRef(null),[a,m]=l.useState(!1),h=()=>{if(!o.current||!a)return;const n=["KMC550","KMC590"],v=r==="staff",g=r==="students";u.forEach(e=>{const S=e.roomNumber.replace(/\./g,"\\."),t=o.current.querySelector(`#${S}`);if(t){let s="#4caf50",p="#000000",y="1",i="none";n.includes(e.roomNumber)?s="#53565a":b(e)?(s="#f44336",i="4,2"):(g&&e.reservableStudents!=="true"||v&&e.reservableStaff!=="true")&&(s="#53565a"),t.setAttribute("fill",s),t.setAttribute("stroke",p),t.setAttribute("stroke-width",y),i!=="none"?t.setAttribute("stroke-dasharray",i):t.removeAttribute("stroke-dasharray")}else console.warn(`⚠️ No SVG element found for room: ${e.roomNumber}`)})};l.useEffect(()=>{if(a){const n=requestAnimationFrame(()=>h());return()=>cancelAnimationFrame(n)}},[u,c,a,r]);const d=(()=>{switch(c){case"5":return G;case"6":return A;case"7":return x;default:return null}})();return d?f.jsx("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",position:"relative"},children:f.jsx(R,{src:d,onLoad:()=>m(!0),innerRef:o,style:{width:"100%",height:"100%",maxHeight:"100vh",objectFit:"contain"}})}):f.jsx("div",{className:"text-gray-500",children:"No map available for this floor."})};export{j as default};
